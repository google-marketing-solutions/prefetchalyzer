(function(e){function t(t){for(var s,c,n=t[0],o=t[1],l=t[2],u=0,p=[];u<n.length;u++)c=n[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(s=!1)}s&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var s={},r={app:0},i=[];function c(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=s,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(a,s,function(t){return e[t]}.bind(null,s));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0fe0":function(e,t,a){"use strict";a("418b")},"418b":function(e,t,a){},"4cf9":function(e,t,a){"use strict";a("9d6f")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"6a79":function(e,t,a){},"9b19":function(e,t,a){e.exports=a.p+"img/logo.86fc2cce.svg"},"9c0c":function(e,t,a){},"9d6f":function(e,t,a){},bd70:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("header",[s("a",{staticClass:"logo",on:{click:function(t){return e.setActiveView("import")}}},[s("img",{attrs:{src:a("9b19"),width:"24",height:"24"}}),s("span",{staticClass:"logo--emphasized"},[e._v("Prefetch")]),e._v("alyzer ")]),s("nav",{staticClass:"navigation mdc-tab-bar",attrs:{role:"tablist"}},[s("div",{staticClass:"mdc-tab-scroller"},[s("div",{staticClass:"mdc-tab-scroller__scroll-area"},[s("div",{staticClass:"mdc-tab-scroller__scroll-content"},e._l(e.navigation,(function(t){return s("button",{key:t.key,staticClass:"mdc-tab mdc-tab--active",attrs:{role:"tab"},on:{click:function(a){return e.setActiveView(t.key)}}},[s("span",{staticClass:"mdc-tab__content"},[s("span",{staticClass:"mdc-tab__text-label"},[e._v(e._s(t.label))])]),s("span",{staticClass:"mdc-tab-indicator",class:{"mdc-tab-indicator--active":t.key===e.state.activeView}},[s("span",{staticClass:"mdc-tab-indicator__content mdc-tab-indicator__content--underline"})]),s("span",{staticClass:"mdc-tab__ripple"})])})),0)])])])]),s("main",{attrs:{id:"app"}},[s("FileUpload",{directives:[{name:"show",rawName:"v-show",value:"import"===e.state.activeView,expression:"state.activeView === 'import'"}],on:{updateParsedHAR:e.updateParsedHAR}}),s("PrefetchTable",{directives:[{name:"show",rawName:"v-show",value:e.state.hasData&&"prefetch_opps"===e.state.activeView,expression:"state.hasData && state.activeView === 'prefetch_opps'"}],attrs:{pages:e.state.pages,resources:e.state.requests},on:{openPageSettings:e.openPageSettings}}),s("About",{directives:[{name:"show",rawName:"v-show",value:"about"===e.state.activeView,expression:"state.activeView === 'about'"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.state.hasData&&"prefetch_opps"===e.state.activeView,expression:"!state.hasData && state.activeView === 'prefetch_opps'"}],staticClass:"empty-view"},[s("div",{staticClass:"empty-view__inner"},[s("h1",{staticClass:"mdc-typography--headline5"},[e._v("No data available")]),s("p",{staticClass:"mdc-typography--body1"},[e._v("Import a HAR session to start analysis.")]),s("button",{staticClass:"mdc-button",on:{click:function(t){return e.setActiveView("import")}}},[s("span",{staticClass:"mdc-button__label"},[e._v("Import data")])])])]),s("div",{ref:"dialog",staticClass:"page-settings mdc-dialog"},[s("div",{staticClass:"mdc-dialog__container"},[s("div",{staticClass:"page-settings__content mdc-dialog__surface",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"data-export","aria-describedby":"data-export-dialog-content"}},[s("div",{staticClass:"mdc-dialog__content",attrs:{id:"data-export-dialog-content"}},[s("PageSettings",{attrs:{pages:e.state.pages},on:{setTitle:e.updatePageTitle}})],1),e._m(0)])]),s("div",{staticClass:"mdc-dialog__scrim"})])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mdc-dialog__actions"},[a("button",{staticClass:"mdc-button mdc-dialog__button",attrs:{type:"button","data-mdc-dialog-action":"done"}},[a("div",{staticClass:"mdc-button__ripple"}),a("span",{staticClass:"mdc-button__label"},[e._v("Done")])])])}],c=(a("c740"),a("d4ec")),n=a("bee2"),o=a("262e"),l=a("2caf"),d=a("9ab4"),u=a("60a3"),p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"faq-container"},[a("h2",{staticClass:"mdc-typography--headline4"},[e._v("FAQ")]),a("h3",{staticClass:"mdc-typography--headline5"},[e._v("HAR files and processing")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("What is a HAR file?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" HAR stands for "),a("em",[e._v("HTTP Archive Record")]),e._v("and describes a well-defined format to store HTTP sessions. It is based on JSON. ")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("How do I get a HAR file for analysis?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v("There are many ways to generate HAR files. One option is to use Chrome Devtools.")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" Record a user journey in Chrome DevTools. Switch to the Network tab, make sure it is recording and the "),a("em",[e._v("Preserve log")]),e._v(" option is enabled. Clear the network history, and keep the DevTools open all the time while you interact with the pages. Start navigating to the first page you want to analyze. Then proceed navigating and interacting with the pages until you finished the user journey. Right-click anywhere in the Network tab's resources list, and select "),a("em",[e._v("Save all as HAR with content")]),e._v(". ")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("How are the HAR files processed I import in Prefetchalyzer?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" The HAR files you import in Prefetchalyzer are opened and processed locally in your browser. No HAR data is stored or processed server-side, parsing and opportunity detection is done in client-side JavaScript. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v("All data imported and adjustments made by the user are not persisted and gone after a full reload of Prefetchalyzer.")]),a("hr"),a("h3",{staticClass:"mdc-typography--headline5"},[e._v("Prefetch analysis")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("What is resource prefetching?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" Prefetching is a performance optimization that aims to fetch resources needed on the next page, to speed up navigation and loading times. It can be implemented in multiple ways, of which the prefetch resource hint is among the easiest options. Typical candidates for prefetching are critical resources needed for the loading process, or large resources that would take a long time to download. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" For best effectiveness, only predictable resources should be prefetched – e.g. on well-defined user journeys like a checkout process, or between landing and product pages. ")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("What does the prefetch analysis show to me?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v("The prefetch analysis lists opportunities of resources that meet the minimum requirements for effective prefetching.")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("Are resources pre-filtered for the prefetch analysis?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" Yes. For resource prefetching, most impact can be gained with critical resources that are needed throughout the initial loading process of a web page. This includes CSS, JavaScript, and potentially web fonts. HTML documents are also included, because prefetching a document allows instant navigation. Resources that did not respond with HTTP status code 200 are filtered out. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" Although the pre-filtering is carefully designed, you need to manually adjust the list of resources to get reasonable results. Most likely, your sessions contain third-party scripts that are usually not recommended for resource prefetching. ")]),a("h4",{staticClass:"mdc-typography--headline6"},[e._v("How are prefetching opportunities determined?")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" The recorded HAR session, as imported in Prefetchalyzer, is presumed as a predictable user journey. It is the tool’s user’s responsibility to record a session representing a high probability that visitors follow this exact route. Resources need to have reasonable cache-control headers set, that allow browsers to cache resources for at least the duration of the user journey – even better, longer than that. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" All resources that are required by the first page in the session are not considered for analysis at all, and filtered out from all pages. Given reasonable caching, all resources that are duplicated on the following pages are already in the browser’s HTTP cache, making prefetching for these resources redundant. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" After initial filtering, the page on which a resource should be prefetched is determined. For each resource, the pages it appears on are checked, and the page on the step before the first appearance is marked for prefetching this particular resource. ")]),a("p",{staticClass:"mdc-typography--body2"},[e._v(" For impactful visualization, all resources are first sorted by first appearance/page to prefetch in the user journey (path), and then by transferred size. This allows tool users to follow the navigation path and spot the largest resources at the top of each navigation step. ")])])}],f=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return a}(u["d"]);f=Object(d["b"])([u["a"]],f);var v=f,g=v,b=(a("fa0d"),a("2877")),m=Object(b["a"])(g,p,h,!1,null,"1b4f165d",null),_=m.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"fileDropArea",staticClass:"file-upload-container"},[a("div",{staticClass:"file-upload-container__inner"},[e._m(0),a("p",{staticClass:"mdc-typography--body1"},[e._v("Record a user session in HAR format, and import it here to identify prefetching opportunities.")]),a("label",{staticClass:"mdc-button mdc-button--raised file-input",attrs:{for:"file-input"}},[e._v(" Select HAR file "),a("input",{attrs:{id:"file-input",type:"file",accept:".har"},on:{change:e.processFileSelection}})]),a("p",{directives:[{name:"show",rawName:"v-show",value:null!==e.state.uploadProgress,expression:"state.uploadProgress !== null"}],staticClass:"mdc-typography--body1"},[e._v("Loading file ... "+e._s(e.state.uploadProgress)+"%")]),a("p",[a("button",{directives:[{name:"show",rawName:"v-show",value:!e.state.showTextInput,expression:"!state.showTextInput"}],staticClass:"mdc-button",on:{click:function(t){e.state.showTextInput=!0}}},[a("span",{staticClass:"mdc-button__label"},[e._v("Input JSON as text")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.state.showTextInput,expression:"state.showTextInput"}]},[a("hr"),a("label",{staticClass:"mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label"},[a("span",{staticClass:"mdc-text-field__resizer"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.harTextInput,expression:"harTextInput",modifiers:{lazy:!0}}],staticClass:"mdc-text-field__input",attrs:{rows:"4",cols:"40","aria-label":"Label",placeholder:"Insert HAR JSON here ..."},domProps:{value:e.harTextInput},on:{change:function(t){e.harTextInput=t.target.value}}})]),e._m(1)]),a("br"),a("p",[a("button",{staticClass:"mdc-button mdc-button--raised",on:{click:function(t){return e.processTextInput()}}},[a("span",{staticClass:"mdc-button__label"},[e._v("Parse text input")])])])]),a("div",{ref:"snackbar",staticClass:"mdc-snackbar file-upload-snackbar"},[a("div",{staticClass:"mdc-snackbar__surface"},[a("div",{ref:"snackbarMessage",staticClass:"mdc-snackbar__label",attrs:{role:"status","aria-live":"polite"}})])])])])},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"mdc-typography--headline4"},[a("span",{staticClass:"logo--emphasized"},[e._v("Prefetch")]),e._v("alyzer")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"mdc-notched-outline"},[a("span",{staticClass:"mdc-notched-outline__leading"}),a("span",{staticClass:"mdc-notched-outline__trailing"})])}],k=(a("4160"),a("fb6a"),a("b0c0"),a("4226")),w=(a("d3b7"),a("ddb0"),a("d81d"),a("07ac"),a("ac1f"),a("466d"),a("159b"),a("9558")),x=a("4a9c"),O=a.n(x),P=function(){function e(t){var a=this;Object(c["a"])(this,e),this.pages=[],this.entries=[],t.log.entries.forEach((function(e){var t=a.extractEntry(e);null!=t&&a.entries.push(t)})),t.log.pages.forEach((function(e){var t=a.extractPage(e);null!=t&&a.pages.push(t)}))}return Object(n["a"])(e,[{key:"extractPage",value:function(e){var t={startedDateTime:Object(w["a"])(/(.*)/,{startedDateTime:1}),id:Object(w["a"])(/(page_[0-9]+)/,{id:1}),title:Object(w["a"])(/(https?:\/\/(www\.)?[#%\+\x2D\.0-:=@-Z_a-z~]{1,256}\.[\(\)0-9A-Za-z]{1,6}\b([#%&\(\)\+\x2D-:=\?-Z_a-z~]*))/,{title:1})},a=O()(e,t);return a.match?a.groups:null}},{key:"extractEntry",value:function(e){var t={pageref:Object(w["a"])(/(page_[0-9]+)/,{pageRef:1}),_priority:Object(w["a"])(/(.*)/,{priority:1}),_resourceType:Object(w["a"])(/(script|stylesheet|document|font)/,{resourceType:1}),request:{method:Object(w["a"])(/(GET|POST)/,{method:1}),url:Object(w["a"])(/(https?:\/\/(www\.)?[#%\+\x2D\.0-:=@-Z_a-z~]{1,256}\.[\(\)0-9A-Za-z]{1,6}\b([#%&\(\)\+\x2D-:=\?-Z_a-z~]*))/,{url:1}),httpVersion:Object(w["a"])(/(.*)/,{httpVersion:1})},response:{status:Object(w["a"])(/^(200)/,{status:1}),headers:[{name:/cache-control/i,value:Object(w["a"])(/(.*)/,{cacheControl:1})}],_transferSize:Object(w["a"])(/([0-9]+)/,{transferSize:1})}},a=O()(e,t);if(a.match){var s=a.groups;return s.status=parseInt(s.status),s.transferSize=parseInt(s.transferSize),"undefined"===typeof s.cacheControl&&(s.cacheControl=null),s}return null}},{key:"getPageTransferSizes",value:function(){var e={};return this.entries.forEach((function(t){"undefined"===typeof e[t.pageRef]&&(e[t.pageRef]=0),e[t.pageRef]+=t.transferSize})),e}},{key:"getUrlPageOccurences",value:function(){var e={};return this.entries.forEach((function(t){"undefined"!==typeof e[t.url]?e[t.url].push(t.pageRef):e[t.url]=[t.pageRef]})),e}},{key:"getResources",value:function(){var e=this.getUrlPageOccurences(),t={};return this.entries.forEach((function(a){"undefined"===typeof t[a.url]&&(t[a.url]={url:a.url,cacheControl:a.cacheControl,transferSize:a.transferSize,pages:e[a.url],resourceType:a.resourceType,selectedPrefetch:!0,prefetchOn:null})})),Object.values(t)}},{key:"getPages",value:function(){var e=this.getPageTransferSizes();return this.pages.sort((function(e,t){return e.startedDateTime>t.startedDateTime?1:-1})).map((function(t){return{id:t.id,label:t.id,url:t.title,transferSize:e[t.id]?e[t.id]:0}}))}}]),e}();function j(e){var t;try{t=JSON.parse(e)}catch(a){throw new Error("Error: Could not parse HAR as JSON, invalid JSON structure in HAR.")}if("undefined"===typeof t.log||"undefined"===typeof t.log.pages||"undefined"===typeof t.log.entries)throw new Error("Error: Missing required HAR properties: log, pages or entries.");return new P(t)}var T=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.state={uploadProgress:null,showTextInput:!1},e.harTextInput="",e.snackbarMDC=null,e.snackbarTimeout=null,e}return Object(n["a"])(a,[{key:"processTextInput",value:function(){this.harTextInput.length&&this.parseHAR(this.harTextInput)}},{key:"processFileSelection",value:function(){var e,t;if(event&&null!==event){var a=null===(e=event)||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];a&&this.processFile(a)}}},{key:"processDrop",value:function(e){if(e.dataTransfer){var t=e.dataTransfer.files;if(1!==t.length)return void this.showSnackbar("Please select exactly one HAR file.");if("har"!==t[0].name.slice(-3).toLowerCase())return void this.showSnackbar("The selected file is not a HAR file.");this.processFile(t[0])}}},{key:"processFile",value:function(e){var t=this,a=new FileReader;a.addEventListener("load",(function(e){var a;t.state.uploadProgress=null;var s=(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.result)?e.target.result:"";t.parseHAR(s)})),a.addEventListener("progress",(function(e){if(e.loaded&&e.total){var a=e.loaded/e.total*100;t.state.uploadProgress=a}})),a.readAsText(e)}},{key:"parseHAR",value:function(e){try{var t=j(e);this.$emit("updateParsedHAR",t)}catch(a){if(!(a instanceof Error))throw a;this.showSnackbar(a.message)}}},{key:"preventDragDefaults",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"highlightDrag",value:function(){this.fileDropArea&&this.fileDropArea.classList.add("file-upload-container--dragging")}},{key:"unhighlightDrag",value:function(){this.fileDropArea&&this.fileDropArea.classList.remove("file-upload-container--dragging")}},{key:"showSnackbar",value:function(e){var t=this;this.snackbarMessage&&(this.snackbarMessage.innerText=e),this.snackbarTimeout&&clearTimeout(this.snackbarTimeout),this.snackbarMDC&&this.snackbarMDC.open(),this.snackbarTimeout=window.setTimeout((function(){return t.snackbarMDC&&t.snackbarMDC.close()}),5e3)}},{key:"mounted",value:function(){var e=this;this.snackbar&&(this.snackbarMDC=new k["a"](this.snackbar)),this.fileDropArea&&(["dragenter","dragover","dragleave","drop"].forEach((function(t){e.fileDropArea.addEventListener(t,e.preventDragDefaults,!1)})),["dragenter","dragover"].forEach((function(t){e.fileDropArea.addEventListener(t,e.highlightDrag,!1)})),["dragleave","drop"].forEach((function(t){e.fileDropArea.addEventListener(t,e.unhighlightDrag,!1)})),this.fileDropArea.addEventListener("drop",this.processDrop,!1))}}]),a}(u["d"]);Object(d["b"])([Object(u["c"])()],T.prototype,"fileDropArea",void 0),Object(d["b"])([Object(u["c"])()],T.prototype,"snackbar",void 0),Object(d["b"])([Object(u["c"])()],T.prototype,"snackbarMessage",void 0),T=Object(d["b"])([u["a"]],T);var S=T,A=S,D=(a("ece0"),Object(b["a"])(A,y,C,!1,null,"0fb0c4d1",null)),M=D.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"mdc-typography--headline6"},[e._v("Pages in visited order")]),a("p",{staticClass:"mdc-typography--body2"},[e._v("Edit the page labels here to update the titles in analysis view.")]),a("ol",{staticClass:"page-list"},e._l(e.pages,(function(t){return a("li",{key:t.id},[a("label",{staticClass:"mdc-text-field mdc-text-field--filled mdc-text-field--label-floating"},[a("span",{staticClass:"mdc-text-field__ripple"}),a("span",{staticClass:"mdc-floating-label mdc-floating-label--float-above",attrs:{id:"page-label-"+t.id}},[e._v("Page label")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.label,expression:"page.label",modifiers:{lazy:!0}}],staticClass:"mdc-text-field__input",attrs:{type:"text","aria-labelledby":"page-label-"+t.id},domProps:{value:t.label},on:{change:function(a){return e.$set(t,"label",a.target.value)}}}),a("span",{staticClass:"mdc-line-ripple"})]),a("br"),a("a",{staticClass:"page-url mdc-typography--body2",attrs:{href:t.url}},[e._v(e._s(t.url))])])})),0)])},E=[],R=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a,[{key:"setTitle",value:function(e){this.$emit("setTitle",e)}}]),a}(u["d"]);Object(d["b"])([Object(u["b"])()],R.prototype,"pages",void 0),R=Object(d["b"])([u["a"]],R);var H=R,L=H,I=(a("d72a"),Object(b["a"])(L,z,E,!1,null,"373dc901",null)),N=I.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-title"},[a("h2",{staticClass:"mdc-typography--headline5"},[e._v("Prefetching Opportunities")]),a("div",{staticClass:"table-title__actions"},[a("button",{staticClass:"mdc-button",on:{click:function(t){return e.openPageSettings()}}},[a("svg",{staticClass:"mdc-button__icon",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"}})]),a("span",{staticClass:"mdc-button__label"},[e._v("View pages")])]),a("div",{staticClass:"mdc-menu-surface--anchor",attrs:{id:"export-menu"}},[a("button",{staticClass:"mdc-button",on:{click:function(t){return e.openExportMenu()}}},[a("svg",{staticClass:"mdc-button__icon",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}})]),a("span",{staticClass:"mdc-button__label"},[e._v("Export")])]),a("div",{ref:"exportMenu",staticClass:"mdc-menu mdc-menu-surface"},[a("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"}},[a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem"},on:{click:function(t){return e.generatePrefetchHTML()}}},[a("span",{staticClass:"mdc-list-item__ripple"}),a("span",{staticClass:"mdc-list-item__text"},[e._v("Generate prefetch HTML")])]),a("li",{staticClass:"mdc-list-item",attrs:{role:"menuitem"},on:{click:function(t){return e.generateWPTScript()}}},[a("span",{staticClass:"mdc-list-item__ripple"}),a("span",{staticClass:"mdc-list-item__text"},[e._v("Generate WebPageTest script")])])])])])])]),a("div",{staticClass:"filter-controls"},[a("label",{staticClass:"filter-controls__label"},[a("div",{staticClass:"mdc-checkbox mdc-data-table__row-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.filters.collapseUnselected,expression:"filters.collapseUnselected",modifiers:{lazy:!0}}],staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox","aria-labelledby":"u0"},domProps:{checked:Array.isArray(e.filters.collapseUnselected)?e._i(e.filters.collapseUnselected,null)>-1:e.filters.collapseUnselected},on:{change:function(t){var a=e.filters.collapseUnselected,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,c=e._i(a,i);s.checked?c<0&&e.$set(e.filters,"collapseUnselected",a.concat([i])):c>-1&&e.$set(e.filters,"collapseUnselected",a.slice(0,c).concat(a.slice(c+1)))}else e.$set(e.filters,"collapseUnselected",r)}}}),a("div",{staticClass:"mdc-checkbox__background"},[a("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[a("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),a("div",{staticClass:"mdc-checkbox__mixedmark"})]),a("div",{staticClass:"mdc-checkbox__ripple"})]),e._v(" Hide unselected requests ")]),a("label",{staticClass:"filter-controls__label"},[a("div",{staticClass:"mdc-checkbox mdc-data-table__row-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.filters.shortenURLs,expression:"filters.shortenURLs",modifiers:{lazy:!0}}],staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox","aria-labelledby":"u0"},domProps:{checked:Array.isArray(e.filters.shortenURLs)?e._i(e.filters.shortenURLs,null)>-1:e.filters.shortenURLs},on:{change:function(t){var a=e.filters.shortenURLs,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,c=e._i(a,i);s.checked?c<0&&e.$set(e.filters,"shortenURLs",a.concat([i])):c>-1&&e.$set(e.filters,"shortenURLs",a.slice(0,c).concat(a.slice(c+1)))}else e.$set(e.filters,"shortenURLs",r)}}}),a("div",{staticClass:"mdc-checkbox__background"},[a("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[a("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),a("div",{staticClass:"mdc-checkbox__mixedmark"})]),a("div",{staticClass:"mdc-checkbox__ripple"})]),e._v(" Shorten URLs ")]),a("ChipMultiSelect",{model:{value:e.filters.resourceTypes,callback:function(t){e.$set(e.filters,"resourceTypes",t)},expression:"filters.resourceTypes"}})],1),a("div",{staticClass:"mdc-data-table prefetch-table"},[a("div",{staticClass:"mdc-data-table__table-container prefetch-table__container"},[a("table",{staticClass:"mdc-data-table__table",attrs:{"aria-label":"Prefetching Analysis"}},[a("thead",[a("tr",{staticClass:"mdc-data-table__header-row"},[a("th",{staticClass:"mdc-data-table__header-cell mdc-data-table__header-cell--checkbox",attrs:{role:"columnheader",scope:"col"}}),a("th",{staticClass:"mdc-data-table__header-cell",attrs:{role:"columnheader",scope:"col"}},[e._v("File")]),a("th",{staticClass:"mdc-data-table__header-cell",attrs:{role:"columnheader",scope:"col"}},[e._v("Cache Control")]),a("th",{staticClass:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric",attrs:{role:"columnheader",scope:"col"}},[e._v("Size")]),e._l(e.pages,(function(t){return a("th",{key:t.id,staticClass:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric pagecolumn bg-lightgrey",attrs:{role:"columnheader",scope:"col"}},[e._v(" "+e._s(t.label)+" ")])}))],2)]),a("tbody",{staticClass:"mdc-data-table__content"},[e._l(e.prefetchList,(function(t){return a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.filters.collapseUnselected||t.selectedPrefetch,expression:"!filters.collapseUnselected || asset.selectedPrefetch"}],key:t.url,staticClass:"mdc-data-table__row",class:{disabledRow:!t.selectedPrefetch}},[a("td",{staticClass:"mdc-data-table__cell mdc-data-table__cell--checkbox"},[a("div",{staticClass:"mdc-checkbox mdc-data-table__row-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.selectedPrefetch,expression:"asset.selectedPrefetch",modifiers:{lazy:!0}}],staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox","aria-labelledby":"u0"},domProps:{checked:Array.isArray(t.selectedPrefetch)?e._i(t.selectedPrefetch,null)>-1:t.selectedPrefetch},on:{change:function(a){var s=t.selectedPrefetch,r=a.target,i=!!r.checked;if(Array.isArray(s)){var c=null,n=e._i(s,c);r.checked?n<0&&e.$set(t,"selectedPrefetch",s.concat([c])):n>-1&&e.$set(t,"selectedPrefetch",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(t,"selectedPrefetch",i)}}}),a("div",{staticClass:"mdc-checkbox__background"},[a("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[a("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),a("div",{staticClass:"mdc-checkbox__mixedmark"})]),a("div",{staticClass:"mdc-checkbox__ripple"})])]),a("th",{staticClass:"mdc-data-table__cell",attrs:{scope:"row",title:t.url}},[e._v(e._s(e.getDisplayedURL(t.url)))]),a("td",{staticClass:"mdc-data-table__cell"},[e._v(e._s(t.cacheControl?t.cacheControl:"n/a"))]),a("td",{staticClass:"mdc-data-table__cell mdc-data-table__cell--numeric"},[e._v(e._s(e.formatSize(t.transferSize)))]),e._l(e.pages,(function(s){return a("td",{key:s.id,staticClass:"mdc-data-table__cell mdc-data-table__cell--numeric bg-lightgrey",domProps:{innerHTML:e._s(e.prefetchTask(s,t))}})}))],2)})),a("tr",{staticClass:"totals-row"},[a("td",{staticClass:"mdc-data-table__cell",attrs:{colspan:"3"}},[e._v(e._s(e.totalAssets)+" resources")]),a("td",{staticClass:"mdc-data-table__cell mdc-data-table__cell--numeric"},[e._v(e._s(e.totalSize))]),e._m(0)]),a("tr",[a("td",{attrs:{colspan:"4"}}),e._l(e.pages,(function(t,s){return a("th",{key:t.id,staticClass:"mdc-data-table__cell mdc-data-table__cell--numeric"},[s>0?a("span",{domProps:{innerHTML:e._s(e.formatPercentage(e.totalPrefetchSavingsPercentage(t.id)))}}):e._e(),s>0?a("br"):a("span",[e._v("—")]),e._v(" "+e._s(s>0?e.formatSize(e.totalPrefetchSavings(t.id)):"")+" ")])}))],2)],2)])])]),a("div",{ref:"dialog",staticClass:"mdc-dialog"},[a("div",{staticClass:"mdc-dialog__container"},[a("div",{staticClass:"mdc-dialog__surface",attrs:{role:"alertdialog","aria-modal":"true","aria-labelledby":"data-export","aria-describedby":"data-export-dialog-content"}},[a("div",{staticClass:"mdc-dialog__content",attrs:{id:"data-export-dialog-content"}},[a("label",{staticClass:"mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label prefetch-export-output"},[a("span",{staticClass:"mdc-text-field__resizer"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.generated.prefetchExport,expression:"generated.prefetchExport"}],staticClass:"mdc-text-field__input",attrs:{rows:"20",cols:"120","aria-label":"Label",placeholder:"Export output is generated here ..."},domProps:{value:e.generated.prefetchExport},on:{input:function(t){t.target.composing||e.$set(e.generated,"prefetchExport",t.target.value)}}})]),e._m(1)])]),e._m(2)])]),a("div",{staticClass:"mdc-dialog__scrim"})])])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{staticClass:"mdc-data-table__cell",attrs:{colspan:"99"}},[a("strong",[e._v("Savings per page")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"mdc-notched-outline"},[a("span",{staticClass:"mdc-notched-outline__leading"}),a("span",{staticClass:"mdc-notched-outline__trailing"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mdc-dialog__actions"},[a("button",{staticClass:"mdc-button mdc-dialog__button",attrs:{type:"button","data-mdc-dialog-action":"close"}},[a("div",{staticClass:"mdc-button__ripple"}),a("span",{staticClass:"mdc-button__label"},[e._v("Close")])])])}],V=(a("99af"),a("4de4"),a("caad"),a("13d5"),a("a434"),a("4fad"),a("2532"),a("1276"),a("3835")),F={document:"document",font:"font",script:"script",stylesheet:"style"},q=a("704c"),B=a("0021"),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mdc-chip-set mdc-chip-set--choice",attrs:{role:"grid"}},e._l(e.value,(function(t,s){return a("div",{key:s,staticClass:"mdc-chip",class:{"mdc-chip--selected":t},attrs:{role:"row"},on:{click:function(t){return e.handleSelection(s)}}},[a("div",{staticClass:"mdc-chip__ripple"}),a("span",{attrs:{role:"gridcell"}},[a("span",{staticClass:"mdc-chip__primary-action",attrs:{role:"button"}},[a("span",{staticClass:"mdc-chip__text"},[e._v(e._s(s))])])])])})),0)},W=[],G=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a,[{key:"handleSelection",value:function(e){var t=this.value;t[e]=!this.value[e],this.$emit("change",t)}}]),a}(u["d"]);Object(d["b"])([Object(u["b"])()],G.prototype,"value",void 0),G=Object(d["b"])([u["a"]],G);var Z=G,Q=Z,K=(a("4cf9"),Object(b["a"])(Q,J,W,!1,null,"09832336",null)),Y=K.exports,X=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.dialogMDC=null,e.exportMenuMDC=null,e.filters={collapseUnselected:!1,shortenURLs:!0,resourceTypes:{script:!0,stylesheet:!0,document:!0,font:!0}},e.generated={prefetchExport:""},e}return Object(n["a"])(a,[{key:"mounted",value:function(){this.dialog&&(this.dialogMDC=new q["a"](this.dialog)),this.exportMenu&&(this.exportMenuMDC=new B["a"](this.exportMenu))}},{key:"openPageSettings",value:function(){this.$emit("openPageSettings")}},{key:"openExportMenu",value:function(){this.exportMenuMDC&&(this.exportMenuMDC.open=!0)}},{key:"formatSize",value:function(e){return e>1e6?"".concat(Math.round(e/1e6*10)/10," MiB"):e>1e3?"".concat(Math.round(e/1e3)," KiB"):"".concat(e," B")}},{key:"prefetchTask",value:function(e,t){return e.id===t.prefetchOn?'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 10H6.83L9 7.83l1.41-1.41L9 5l-6 6 6 6 1.41-1.41L9 14.17 6.83 12H16c1.65 0 3 1.35 3 3v4h2v-4c0-2.76-2.24-5-5-5z"/></svg>':t.pages.includes(e.id)?this.formatPercentage(Math.ceil(t.transferSize/e.transferSize*1e3)/10):"—"}},{key:"totalPrefetchSavings",value:function(e){return this.prefetchList.filter((function(t){return t.selectedPrefetch&&t.pages.includes(e)})).reduce((function(e,t){return e+t.transferSize}),0)}},{key:"totalPrefetchSavingsPercentage",value:function(e){return Math.round(this.totalPrefetchSavings(e)/this.pagesObject[e].transferSize*1e3)/10}},{key:"formatPercentage",value:function(e){return'<span class="percentValue" style="opacity: '.concat(e/100+.5,'">').concat(e,"%</span>")}},{key:"getDisplayedURL",value:function(e){if(!this.filters.shortenURLs||e.length<65)return e;var t=e.split("://"),a=t[1].split("/");""===a[a.length-1]&&a.splice(-1);var s="";return a.length<3&&(s=e),s="".concat(t[0],"://").concat(a[0],"/…/").concat(a[a.length-1]),s.length>100&&(s=s.substr(0,100)+"…"),s}},{key:"generatePrefetchHTML",value:function(){var e=this;this.generated.prefetchExport="";for(var t="",a=0,s=Object.entries(this.selectedPrefetchAssetsByPage);a<s.length;a++){var r=Object(V["a"])(s[a],2),i=r[0],c=r[1];c.length&&function(){t+="".concat(e.pagesObject[i].label," (").concat(e.pagesObject[i].url,"):\n----------------------\n");var a="";c.forEach((function(e){a=e.resourceType in F?' as="'.concat(F[e.resourceType],'"'):"",t+='<link rel="prefetch" href="'.concat(e.url,'"').concat(a,">\n")})),t+="\n\n"}()}this.generated.prefetchExport=t,this.dialogMDC&&this.dialogMDC.open()}},{key:"generateWPTScript",value:function(){this.generated.prefetchExport="";var e="// NO PREFETCHING\n// ----------------------\n// Script start\n";this.pages.forEach((function(t){return e+="setEventName\t".concat(t.label,"\nnavigate\t").concat(t.url,"\n\n")})),e+="// Script end\n\n// WITH PREFETCHING\n// ----------------------\n// Script start\n";for(var t=0,a=Object.entries(this.selectedPrefetchAssetsByPage);t<a.length;t++){var s=Object(V["a"])(a[t],2),r=s[0],i=s[1];e+="setEventName\t".concat(this.pagesObject[r].label,"\nnavigate\t").concat(this.pagesObject[r].url,"\n\n"),i.length&&function(){e+="exec\tvar entries=[";var t="";i.forEach((function(a){t=a.resourceType in F?',as:"'.concat(F[a.resourceType],'"'):"",e+='{rel:"prefetch",href:"'.concat(a.url,'"').concat(t,"}")})),e+='];\nexecAndWait\tentries.map(function(entry) { var link = document.createElement("link"); const hint = Object.assign(link, entry); document.head.append(hint); return;});\n\n'}()}e+="// Script end",this.generated.prefetchExport=e,this.dialogMDC&&this.dialogMDC.open()}},{key:"prefetchList",get:function(){var e=this,t=this.resources.filter((function(t){return e.filters.resourceTypes[t.resourceType]})).filter((function(t){return!t.pages.includes(e.pages[0].id)})).map((function(t){for(var a=1;a<e.pages.length;a++)if(t.pages.includes(e.pages[a].id)){t.prefetchOn=e.pages[a-1].id;break}return t})).sort((function(e,t){return e.transferSize<t.transferSize?1:e.transferSize>t.transferSize?-1:0})).sort((function(e,t){return e.prefetchOn&&t.prefetchOn?e.prefetchOn>t.prefetchOn?1:e.prefetchOn<t.prefetchOn?-1:0:0}));return t}},{key:"selectedPrefetchList",get:function(){return this.prefetchList.filter((function(e){return e.selectedPrefetch}))}},{key:"pagesObject",get:function(){var e={};return this.pages.forEach((function(t){return e[t.id]=t})),e}},{key:"selectedPrefetchAssetsByPage",get:function(){var e={};return this.pages.forEach((function(t){return e[t.id]=[]})),this.selectedPrefetchList.forEach((function(t){t.prefetchOn&&e[t.prefetchOn].push(t)})),e}},{key:"totalAssets",get:function(){return this.selectedPrefetchList.length}},{key:"totalSize",get:function(){return this.formatSize(this.selectedPrefetchList.reduce((function(e,t){return e+t.transferSize}),0))}}]),a}(u["d"]);Object(d["b"])([Object(u["b"])()],X.prototype,"pages",void 0),Object(d["b"])([Object(u["b"])()],X.prototype,"resources",void 0),Object(d["b"])([Object(u["c"])()],X.prototype,"dialog",void 0),Object(d["b"])([Object(u["c"])()],X.prototype,"exportMenu",void 0),X=Object(d["b"])([Object(u["a"])({components:{ChipMultiSelect:Y}})],X);var ee=X,te=ee,ae=(a("0fe0"),Object(b["a"])(te,U,$,!1,null,null,null)),se=ae.exports,re=a("5e26"),ie=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.state={hasData:!1,activeView:"import",pages:[],requests:[]},e.harStore=null,e.navigation=[{key:"import",label:"Import Session",requiresData:!1},{key:"prefetch_opps",label:"Prefetch Analysis",requiresData:!0},{key:"about",label:"FAQ",requiresData:!1}],e.navigationMDC=null,e.dialogMDC=null,e}return Object(n["a"])(a,[{key:"setActiveView",value:function(e){var t=this;this.state.activeView=e;var a=this.navigation.findIndex((function(e){return e.key===t.state.activeView}));-1!==a&&this.navigationMDC&&this.navigationMDC.activateTab(a)}},{key:"updateParsedHAR",value:function(e){this.harStore=e,this.state.pages=this.harStore.getPages(),this.state.requests=this.harStore.getResources(),this.state.hasData=!0,this.setActiveView("prefetch_opps")}},{key:"updatePageTitle",value:function(e){var t=this.state.pages.findIndex((function(t){return t.id===e.id}));-1!==t&&(this.state.pages[t].label=e.label)}},{key:"openPageSettings",value:function(){this.dialogMDC&&this.dialogMDC.open()}},{key:"mounted",value:function(){var e=document.querySelector(".navigation");e&&(this.navigationMDC=new re["a"](e)),this.dialog&&(this.dialogMDC=new q["a"](this.dialog))}}]),a}(u["d"]);Object(d["b"])([Object(u["c"])()],ie.prototype,"dialog",void 0),ie=Object(d["b"])([Object(u["a"])({components:{About:_,FileUpload:M,PageSettings:N,PrefetchTable:se}})],ie);var ce=ie,ne=ce,oe=(a("5c0b"),Object(b["a"])(ne,r,i,!1,null,null,null)),le=oe.exports,de=a("9483");Object(de["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(le)}}).$mount("#app")},d72a:function(e,t,a){"use strict";a("ff01")},ece0:function(e,t,a){"use strict";a("6a79")},fa0d:function(e,t,a){"use strict";a("bd70")},ff01:function(e,t,a){}});
//# sourceMappingURL=app.c51d56b0.js.map